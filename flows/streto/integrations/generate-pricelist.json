{
  "id": "FRQ3yRZGiDkRhYuHrG6ZE",
  "created": "1702917271752",
  "updated": "1702917271752",
  "name": "generate-pricelist",
  "description": "",
  "tags": [],
  "pieces": [
    "@activepieces/piece-google-sheets",
    "@lagomus/piece-streto",
    "@activepieces/piece-csv",
    "@activepieces/piece-google-drive"
  ],
  "blogUrl": "",
  "template": {
    "displayName": "generate-pricelist",
    "trigger": {
      "name": "trigger",
      "valid": true,
      "displayName": "Webhook Trigger",
      "nextAction": {
        "displayName": "Get next row(s)",
        "name": "step_1",
        "valid": true,
        "type": "PIECE",
        "settings": {
          "packageType": "REGISTRY",
          "pieceType": "OFFICIAL",
          "pieceName": "@activepieces/piece-google-sheets",
          "pieceVersion": "~0.7.4",
          "input": {
            "auth": "{{connections['google-sheets']}}",
            "spreadsheet_id": "14ZQ7AtX5FPMGZpqVzhzRXpEBupk7vWdTjjR6jBUGVBg",
            "sheet_id": 1363601301,
            "memKey": "row_number",
            "groupSize": "100",
            "include_team_drives": false
          },
          "inputUiInfo": {},
          "actionName": "get_next_rows"
        },
        "nextAction": {
          "displayName": "Generate price list from Google Sheets",
          "name": "step_2",
          "valid": true,
          "type": "PIECE",
          "settings": {
            "packageType": "REGISTRY",
            "pieceType": "OFFICIAL",
            "pieceName": "@lagomus/piece-streto",
            "pieceVersion": "~0.0.1",
            "input": {
              "auth": "{{connections['streto']}}",
              "catalog_name": "{{trigger['body']['catalogName']}}",
              "list_name": "default",
              "rules": "{{step_1}}"
            },
            "inputUiInfo": {},
            "actionName": "generate_pricelist"
          },
          "nextAction": {
            "displayName": "Convert JSON to CSV",
            "name": "step_3",
            "valid": true,
            "type": "PIECE",
            "settings": {
              "packageType": "REGISTRY",
              "pieceType": "OFFICIAL",
              "pieceName": "@activepieces/piece-csv",
              "pieceVersion": "~0.3.0",
              "input": {
                "csv_object": "{{step_2['priceLists']}}",
                "has_headers": true,
                "delimiter_type": ","
              },
              "inputUiInfo": {},
              "actionName": "convert_json_to_csv"
            },
            "nextAction": {
              "displayName": "Create new file",
              "name": "step_4",
              "valid": true,
              "type": "PIECE",
              "settings": {
                "packageType": "REGISTRY",
                "pieceType": "OFFICIAL",
                "pieceName": "@activepieces/piece-google-drive",
                "pieceVersion": "~0.5.4",
                "input": {
                  "auth": "{{connections['google-drive']}}",
                  "fileName": "price_lists.csv",
                  "text": "{{step_3}}",
                  "fileType": "plain/text",
                  "include_team_drives": false
                },
                "inputUiInfo": {},
                "actionName": "create_new_gdrive_file"
              }
            }
          }
        }
      },
      "type": "WEBHOOK",
      "settings": {
        "inputUiInfo": {}
      }
    },
    "valid": true
  },
  "userId": null,
  "imageUrl": null,
  "featuredDescription": "",
  "isFeatured": false
}